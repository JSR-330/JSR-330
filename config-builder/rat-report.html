<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Jul 7, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>RAT (Release Audit Tool) results</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
        <style>body{padding-top: 20px;}</style>
    
    <script type="text/javascript" src="./js/apache-maven-fluido.min.js"></script>

    
    <meta name="Date-Revision-yyyymmdd" content="20120707" />
    <meta http-equiv="Content-Language" content="en" />
    
        </head>
  <body>
        
    
        <div class="container-fluid">
                <div id="banner">
        <div class="pull-left">                                <a href="./" id="bannerLeft">
                <h2>JSR-330 Config Builder</h2>
                </a>
      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>
      
      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
        
                  <li id="publishDate">Last Published: 2012-07-07</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 1.4.0</li>
                                      
        
              </ul>
      </div>

            <div id="leftColumn" class="sidebar">
        <div class="well">
                
        
                                   <h5>Parent Project</h5>
                  <ul>
                  <li class="none">
                          <a href="../index.html" title="JSR-330 Parent">JSR-330 Parent</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                                            <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                <li class="expanded">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                    <ul>
                      <li class="none">
                          <a href="findbugs.html" title="FindBugs Report">FindBugs Report</a>
            </li>
                      <li class="none">
            <strong>RAT Report</strong>
          </li>
              </ul>
        </li>
          </ul>
                      
        
      
          
          <div id="poweredBy">
                                                                                                                  <a href="https://buildhive.cloudbees.com/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy"  alt="Built by Maven" src="http://www.cloudbees.com/sites/default/files/Button-Built-on-CB-1.png"    />
      </a>
                    </div>
        </div>
      </div>
      
      <div id="bodyColumn" class="content">
        <div id="contentBox">
                              
          <div class="section"><h2>RAT (Release Audit Tool) results<a name="RAT_Release_Audit_Tool_results"></a></h2><p>The following document contains the results of <a class="externalLink" href="http://incubator.apache.org/rat/apache-rat-plugin">RAT (Release Audit Tool)</a>.</p><p></p><div class="source"><pre class="prettyprint">
*****************************************************
Summary
-------
Generated at: 2012-07-07T23:58:30+02:00
Notes: 0
Binaries: 0
Archives: 0
Standards: 28

Apache Licensed: 2
Generated Documents: 0

JavaDocs are generated and so license header is optional
Generated files do not required license headers

26 Unknown Licenses

*******************************

Unapproved licenses:

  D:/git/jsr330/config-builder/.gitignore
  D:/git/jsr330/config-builder/pom.xml
  D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/Binder.java
  D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/BinderException.java
  D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/BindingCondition.java
  D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/BindingConditions.java
  D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/ConditionalBinder.java
  D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/ConfigBuilder.java
  D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/Constructors.java
  D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/DefaultBinder.java
  D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/InitialBinder.java
  D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/InstancingBinder.java
  D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/LinkingBinder.java
  D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/Methods.java
  D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/TypeBinder.java
  D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/TypeContainerConfig.java
  D:/git/jsr330/config-builder/src/test/java/com/github/jsr330/spi/config/builder/BindingConditionsTest.java
  D:/git/jsr330/config-builder/src/test/java/com/github/jsr330/spi/config/builder/DefaultBinderConditionalTest.java
  D:/git/jsr330/config-builder/src/test/java/com/github/jsr330/spi/config/builder/DefaultBinderInstancingTest.java
  D:/git/jsr330/config-builder/src/test/java/com/github/jsr330/spi/config/builder/DefaultBinderLinkingTest.java
  D:/git/jsr330/config-builder/src/test/java/com/github/jsr330/spi/config/builder/DefaultBinderTypedTest.java
  D:/git/jsr330/config-builder/src/test/java/com/github/jsr330/spi/config/builder/TestImplementation1.java
  D:/git/jsr330/config-builder/src/test/java/com/github/jsr330/spi/config/builder/TestImplementation2.java
  D:/git/jsr330/config-builder/src/test/java/com/github/jsr330/spi/config/builder/TestInterface.java
  D:/git/jsr330/config-builder/src/test/resources/log4j.xml
  D:/git/jsr330/config-builder/src/test/resources/logging.properties

*******************************

Archives:

*****************************************************
  Files with Apache License headers will be marked AL
  Binary files (which do not require AL headers) will be marked B
  Compressed archives will be marked A
  Notices, licenses etc will be marked N
 !????? D:/git/jsr330/config-builder/.gitignore
 !????? D:/git/jsr330/config-builder/pom.xml
 !????? D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/Binder.java
 !????? D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/BinderException.java
 !????? D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/BindingCondition.java
 !????? D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/BindingConditions.java
 !????? D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/ConditionalBinder.java
 !????? D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/ConfigBuilder.java
 !????? D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/Constructors.java
 !????? D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/DefaultBinder.java
 !????? D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/InitialBinder.java
 !????? D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/InstancingBinder.java
 !????? D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/LinkingBinder.java
 !????? D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/Methods.java
 !????? D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/TypeBinder.java
 !????? D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/TypeContainerConfig.java
 !????? D:/git/jsr330/config-builder/src/test/java/com/github/jsr330/spi/config/builder/BindingConditionsTest.java
  AL    D:/git/jsr330/config-builder/src/test/java/com/github/jsr330/spi/config/builder/ConfigBuilderTck.java
 !????? D:/git/jsr330/config-builder/src/test/java/com/github/jsr330/spi/config/builder/DefaultBinderConditionalTest.java
 !????? D:/git/jsr330/config-builder/src/test/java/com/github/jsr330/spi/config/builder/DefaultBinderInstancingTest.java
 !????? D:/git/jsr330/config-builder/src/test/java/com/github/jsr330/spi/config/builder/DefaultBinderLinkingTest.java
 !????? D:/git/jsr330/config-builder/src/test/java/com/github/jsr330/spi/config/builder/DefaultBinderTypedTest.java
 !????? D:/git/jsr330/config-builder/src/test/java/com/github/jsr330/spi/config/builder/TestImplementation1.java
 !????? D:/git/jsr330/config-builder/src/test/java/com/github/jsr330/spi/config/builder/TestImplementation2.java
 !????? D:/git/jsr330/config-builder/src/test/java/com/github/jsr330/spi/config/builder/TestInterface.java
  AL    D:/git/jsr330/config-builder/src/test/resources/log4j.dtd
 !????? D:/git/jsr330/config-builder/src/test/resources/log4j.xml
 !????? D:/git/jsr330/config-builder/src/test/resources/logging.properties
 
 *****************************************************
 Printing headers for files without AL header...
 
 
 =======================================================================
 ==D:/git/jsr330/config-builder/.gitignore
 =======================================================================
/target/
/.settings/
/.classpath
/.project

 =======================================================================
 ==D:/git/jsr330/config-builder/pom.xml
 =======================================================================
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;parent&gt;
        &lt;artifactId&gt;all&lt;/artifactId&gt;
        &lt;groupId&gt;com.github.jsr-330&lt;/groupId&gt;
        &lt;version&gt;1.4.0&lt;/version&gt;
        &lt;relativePath&gt;..&lt;/relativePath&gt;
    &lt;/parent&gt;
    
    &lt;artifactId&gt;config-builder&lt;/artifactId&gt;
    &lt;packaging&gt;jar&lt;/packaging&gt;
    &lt;name&gt;JSR-330 Config Builder&lt;/name&gt;
    &lt;description&gt;Builder config module for JSR-330&lt;/description&gt;
    
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;
            &lt;artifactId&gt;core&lt;/artifactId&gt;
            &lt;version&gt;${project.version}&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
    
&lt;/project&gt;

 =======================================================================
 ==D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/Binder.java
 =======================================================================
package com.github.jsr330.spi.config.builder;

import com.github.jsr330.spi.TypeConfig;

/**
 * A binder is responsible for getting a type configuration.
 */
public interface Binder&lt;T&gt; {
    
    /**
     * Gets the {@link TypeConfig}.
     */
    TypeConfig build();
    
}

 =======================================================================
 ==D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/BinderException.java
 =======================================================================
package com.github.jsr330.spi.config.builder;

/**
 * A special binder exception.
 */
public class BinderException extends RuntimeException {
    
    private static final long serialVersionUID = 3546496886629517153L;
    
    public BinderException() {
    }
    
    public BinderException(String message) {
        super(message);
    }
    
    public BinderException(Throwable cause) {
        super(cause);
    }
    
    public BinderException(String message, Throwable cause) {
        super(message, cause);
    }
    
}

 =======================================================================
 ==D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/BindingCondition.java
 =======================================================================
package com.github.jsr330.spi.config.builder;

import java.lang.annotation.Annotation;
import java.util.Map;

import com.github.jsr330.spi.ClassInjector;

/**
 * A condition that has to be fulfilled in order for a configuration to be applied.
 */
public interface BindingCondition&lt;T&gt; {
    
    /**
     * If the condition is fulfilled the corresponding configuration is applied.
     */
    boolean fulfilled(ClassInjector injector, Class&lt;T&gt; type, Map&lt;String, Class&lt;? extends T&gt;[]&gt; inheritanceTree, Annotation qualifier, ClassLoader classLoader);
    
}

 =======================================================================
 ==D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/BindingConditions.java
 =======================================================================
package com.github.jsr330.spi.config.builder;

import java.lang.annotation.Annotation;
import java.util.Map;

import javax.inject.Named;
import javax.inject.Qualifier;

import com.github.jsr330.spi.ClassInjector;

/**
 * This is an utility class for some common condition for binding.
 */
public class BindingConditions {
    
    /**
     * Checks if an annotation is present for the instance that has to be instanced.
     */
    @SuppressWarnings(&quot;unchecked&quot;)
    public static &lt;T&gt; BindingCondition&lt;T&gt; annotationIsPresent(Class&lt;? extends T&gt; type, Class&lt;? extends Annotation&gt; annotation) {
        return anyAnnotationIsPresent(type, annotation);
    }
    
    /**
     * Checks if a type should be instanced using a specific {@link Qualifier}.
     */
    public static &lt;T&gt; BindingCondition&lt;T&gt; qualifierIs(Class&lt;? extends T&gt; type, final Class&lt;? extends Annotation&gt; expectedQualifier) {
        return new BindingCondition&lt;T&gt;() {
            
            @Override
            public boolean fulfilled(ClassInjector injector, Class&lt;T&gt; type, Map&lt;String, Class&lt;? extends T&gt;[]&gt; inheritanceTree, Annotation qualifier,
                    ClassLoader classLoader) {
                return qualifier != null &amp;&amp; expectedQualifier.isAssignableFrom(qualifier.annotationType());
            }
            
        };
    }
    
    /**
     * Checks if a type should be instanced with a special named implementation.
     */
    public static &lt;T&gt; BindingCondition&lt;T&gt; isNamed(Class&lt;? extends T&gt; type, final CharSequence value) {
        return new BindingCondition&lt;T&gt;() {
            
            @Override
            public boolean fulfilled(ClassInjector injector, Class&lt;T&gt; type, Map&lt;String, Class&lt;? extends T&gt;[]&gt; inheritanceTree, Annotation qualifier,
                    ClassLoader classLoader) {
                return qualifier instanceof Named &amp;&amp; ((Named) qualifier).value().equals(value);
            }
            

 =======================================================================
 ==D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/ConditionalBinder.java
 =======================================================================
package com.github.jsr330.spi.config.builder;

/**
 * This binder is used to express a condition for the appliance of the binding configuration.
 */
public interface ConditionalBinder&lt;T&gt; extends Binder&lt;T&gt; {
    
    /**
     * when can be executed after an {@link InstancingBinder}.
     */
    LinkingBinder&lt;T&gt; when(BindingCondition&lt;T&gt; condition);
    
}

 =======================================================================
 ==D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/ConfigBuilder.java
 =======================================================================
package com.github.jsr330.spi.config.builder;

import com.github.jsr330.spi.TypeConfig;

/**
 * The config builder is used to programmatically build a valid type configuration.
 */
public class ConfigBuilder {
    
    protected InitialBinder&lt;?&gt; binder = new DefaultBinder&lt;Object&gt;();
    
    /**
     * Gets the type config.
     */
    public TypeConfig build() {
        return binder.build();
    }
    
    /**
     * Gets the initial binder which is the entry point for the type configuration.
     */
    public InitialBinder&lt;?&gt; get() {
        return binder;
    }
    
}

 =======================================================================
 ==D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/Constructors.java
 =======================================================================
package com.github.jsr330.spi.config.builder;

import java.lang.reflect.Constructor;

/**
 * This is an utility class for constructors.
 */
public class Constructors {
    
    /**
     * Gets the default (no-args) constructor.
     */
    @SuppressWarnings(&quot;unchecked&quot;)
    public static &lt;T&gt; Constructor&lt;T&gt; defaultConstructor(Class&lt;T&gt; type) {
        for (Constructor&lt;?&gt; constructor : type.getDeclaredConstructors()) {
            if (constructor.getParameterTypes().length == 0) {
                return (Constructor&lt;T&gt;) constructor;
            }
        }
        return null;
    }
    
    /**
     * Gets the constructor with the specified parameter set.
     */
    @SuppressWarnings(&quot;unchecked&quot;)
    public static &lt;T&gt; Constructor&lt;T&gt; constructor(Class&lt;T&gt; type, Class&lt;?&gt;... arguments) {
        Class&lt;?&gt;[] parameters;
        boolean equals;
        
        if (arguments == null || arguments.length == 0) {
            return defaultConstructor(type);
        }
        
        for (Constructor&lt;?&gt; constructor : type.getDeclaredConstructors()) {
            if ((parameters = constructor.getParameterTypes()).length == arguments.length) {
                equals = true;
                for (int i = 0; i &lt; arguments.length; i++) {
                    if (!arguments[i].equals(parameters[i])) {
                        equals = false;
                    }
                }
                if (equals) {
                    return (Constructor&lt;T&gt;) constructor;
                }
            }
        }
        return null;
    }
    

 =======================================================================
 ==D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/DefaultBinder.java
 =======================================================================
package com.github.jsr330.spi.config.builder;

import java.lang.annotation.Annotation;
import java.lang.reflect.Constructor;
import java.lang.reflect.Method;
import java.lang.reflect.Modifier;
import java.util.HashMap;
import java.util.Map;

import javax.inject.Provider;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

import com.github.jsr330.instance.TypeContainer;
import com.github.jsr330.instance.TypeContainer.InstanceMode;
import com.github.jsr330.spi.ClassInjector;
import com.github.jsr330.spi.TypeConfig;

/**
 * The DefaultBinder combines all binder types and a {@link TypeConfig}.
 */
public class DefaultBinder&lt;T&gt; implements LinkingBinder&lt;T&gt;, InitialBinder&lt;T&gt;, TypeBinder&lt;T&gt;, ConditionalBinder&lt;T&gt;, InstancingBinder&lt;T&gt;, TypeConfig {
    
    private static final Logger LOGGER = LoggerFactory.getLogger(DefaultBinder.class);
    
    protected Map&lt;String, TypeContainerConfig&lt;?&gt;&gt; configs = new HashMap&lt;String, TypeContainerConfig&lt;?&gt;&gt;();
    protected TypeContainerConfig&lt;?&gt; currentConfig;
    
    /**
     * Checks if an implementation is not abstract or an interface.
     */
    @SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })
    protected void checkImplementation() {
        if (currentConfig.getProvider() != null) {
            return;
        }
        
        if (currentConfig.getImplementation() == null) {
            if (currentConfig.getType().isInterface() || Modifier.isAbstract(currentConfig.getType().getModifiers())) {
                throw new BinderException(&quot;can't instance interface or abstract class without a implementation specified.&quot;);
            } else {
                currentConfig.setImplementation((Class) currentConfig.getType());
            }
        } else {
            if (currentConfig.getImplementation().isInterface() || Modifier.isAbstract(currentConfig.getImplementation().getModifiers())) {
                throw new BinderException(&quot;can't instance interface or abstract class.&quot;);
            }
        }
    }

 =======================================================================
 ==D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/InitialBinder.java
 =======================================================================
package com.github.jsr330.spi.config.builder;

/**
 * The initial binder is the entry-point of configuration for a type.
 */
public interface InitialBinder&lt;T&gt; extends Binder&lt;T&gt; {
    
    /**
     * Gets a {@link TypeBinder} back which specifies the implementation.
     */
    &lt;V&gt; TypeBinder&lt;V&gt; instance(Class&lt;V&gt; type);
    
}

 =======================================================================
 ==D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/InstancingBinder.java
 =======================================================================
package com.github.jsr330.spi.config.builder;

import java.lang.reflect.Constructor;
import java.lang.reflect.Method;

/**
 * The instancing binder is used specify a constructor or a static factory method to instance a type.
 */
public interface InstancingBinder&lt;T&gt; extends ConditionalBinder&lt;T&gt; {
    
    ConditionalBinder&lt;T&gt; using(Constructor&lt;T&gt; constructor);
    
    ConditionalBinder&lt;T&gt; using(Method factoryMethod);
    
}

 =======================================================================
 ==D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/LinkingBinder.java
 =======================================================================
package com.github.jsr330.spi.config.builder;

/**
 * The linking binder performs bitwise and, or or xor combinations of the pre-defined condition.
 */
public interface LinkingBinder&lt;T&gt; extends Binder&lt;T&gt; {
    
    LinkingBinder&lt;T&gt; and(BindingCondition&lt;T&gt; condition);
    
    LinkingBinder&lt;T&gt; or(BindingCondition&lt;T&gt; condition);
    
    LinkingBinder&lt;T&gt; xor(BindingCondition&lt;T&gt; condition);
    
}

 =======================================================================
 ==D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/Methods.java
 =======================================================================
package com.github.jsr330.spi.config.builder;

import java.lang.reflect.Method;
import java.lang.reflect.Modifier;

/**
 * This is an utility class for method
 */
public class Methods {
    
    /**
     * Gets the static method with the specified parameter set.
     */
    public static &lt;T&gt; Method factoryMethod(Class&lt;T&gt; type, Class&lt;?&gt;... arguments) {
        return factoryMethod(type, null, arguments);
    }
    
    /**
     * Gets the static method with the specified parameter set and name.
     */
    public static &lt;T&gt; Method factoryMethod(Class&lt;T&gt; type, String name, Class&lt;?&gt;... arguments) {
        Class&lt;?&gt;[] parameters;
        boolean equals;
        
        for (Method method : type.getDeclaredMethods()) {
            if (!Modifier.isAbstract(method.getModifiers()) &amp;&amp; Modifier.isStatic(method.getModifiers())
                    &amp;&amp; (name == null || name.isEmpty() || name.equals(method.getName()))) {
                parameters = method.getParameterTypes();
                if ((arguments == null || arguments.length == 0) &amp;&amp; parameters.length == 0) {
                    return method;
                } else if (parameters.length == arguments.length) {
                    equals = true;
                    
                    for (int i = 0; i &lt; arguments.length; i++) {
                        if (!arguments[i].equals(parameters[i])) {
                            equals = false;
                        }
                    }
                    
                    if (equals) {
                        return method;
                    }
                }
            }
        }
        return null;
    }
    
}

 =======================================================================
 ==D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/TypeBinder.java
 =======================================================================
package com.github.jsr330.spi.config.builder;

import javax.inject.Provider;

/**
 * This binder is used to specify an implementation for a type.
 */
public interface TypeBinder&lt;T&gt; extends Binder&lt;T&gt; {
    
    /**
     * The type to instance has to be instantiable to use this method without exception.
     */
    InstancingBinder&lt;T&gt; asSingleton();
    
    /**
     * Marks the type as singleton with the specified implementation.
     */
    InstancingBinder&lt;T&gt; asSingleton(Class&lt;? extends T&gt; type);
    
    /**
     * Specifies an implementation.
     */
    InstancingBinder&lt;T&gt; as(Class&lt;? extends T&gt; type);
    
    /**
     * Defines a provider.
     */
    ConditionalBinder&lt;T&gt; with(Provider&lt;? extends T&gt; provider);
    
}

 =======================================================================
 ==D:/git/jsr330/config-builder/src/main/java/com/github/jsr330/spi/config/builder/TypeContainerConfig.java
 =======================================================================
package com.github.jsr330.spi.config.builder;

import java.lang.reflect.Constructor;
import java.lang.reflect.Method;

import javax.inject.Provider;

/**
 * A container for the configuration of a type.
 */
class TypeContainerConfig&lt;V&gt; {
    
    protected Provider&lt;? extends V&gt; provider;
    protected Method factoryMethod;
    protected Constructor&lt;V&gt; constructor;
    protected Class&lt;V&gt; type;
    protected Class&lt;? extends V&gt; implementation;
    protected boolean singleton = false;
    protected BindingCondition&lt;V&gt; condition;
    
    public TypeContainerConfig(Class&lt;V&gt; type) {
        this.type = type;
    }
    
    public BindingCondition&lt;V&gt; getCondition() {
        return condition;
    }
    
    public void setCondition(BindingCondition&lt;V&gt; condition) {
        this.condition = condition;
    }
    
    public Provider&lt;? extends V&gt; getProvider() {
        return provider;
    }
    
    public void setProvider(Provider&lt;? extends V&gt; provider) {
        this.provider = provider;
    }
    
    public Method getFactoryMethod() {
        return factoryMethod;
    }
    
    public void setFactoryMethod(Method factoryMethod) {
        this.factoryMethod = factoryMethod;
    }
    
    public Constructor&lt;V&gt; getConstructor() {
        return constructor;

 =======================================================================
 ==D:/git/jsr330/config-builder/src/test/java/com/github/jsr330/spi/config/builder/BindingConditionsTest.java
 =======================================================================
package com.github.jsr330.spi.config.builder;

import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertTrue;

import java.lang.annotation.Annotation;
import java.lang.annotation.Retention;
import java.util.Map;

import javax.inject.Inject;
import javax.inject.Named;
import javax.inject.Qualifier;
import javax.inject.Singleton;

import org.atinject.tck.auto.Drivers;
import org.atinject.tck.auto.Seat;
import org.atinject.tck.auto.Tire;
import org.junit.Test;

import com.github.jsr330.spi.ClassInjector;

public class BindingConditionsTest {
    
    ClassLoader classLoader = Thread.currentThread().getContextClassLoader();
    BindingCondition&lt;Object&gt; nonConfirming = new BindingCondition&lt;Object&gt;() {
        
        @Override
        public boolean fulfilled(ClassInjector injector, Class&lt;Object&gt; type, Map&lt;String, Class&lt;? extends Object&gt;[]&gt; inheritanceTree, Annotation qualifier,
                ClassLoader classLoader) {
            return false;
        }
        
    };
    BindingCondition&lt;Object&gt; confirming = new BindingCondition&lt;Object&gt;() {
        
        @Override
        public boolean fulfilled(ClassInjector injector, Class&lt;Object&gt; type, Map&lt;String, Class&lt;? extends Object&gt;[]&gt; inheritanceTree, Annotation qualifier,
                ClassLoader classLoader) {
            return true;
        }
        
    };
    
    @Test
    public void qualifierIs() {
        assertTrue(BindingConditions.qualifierIs(Tire.class, Drivers.class).fulfilled(null, Tire.class, null, new Drivers() {
            
            @Override
            public Class&lt;? extends Annotation&gt; annotationType() {
                return Drivers.class;

 =======================================================================
 ==D:/git/jsr330/config-builder/src/test/java/com/github/jsr330/spi/config/builder/DefaultBinderConditionalTest.java
 =======================================================================
package com.github.jsr330.spi.config.builder;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertNotNull;
import static org.junit.Assert.assertNull;
import static org.junit.Assert.assertTrue;
import static org.junit.Assert.fail;

import java.lang.annotation.Annotation;
import java.util.Map;

import org.junit.Before;
import org.junit.Test;

import com.github.jsr330.instance.TypeContainer;
import com.github.jsr330.instance.TypeContainer.InstanceMode;
import com.github.jsr330.spi.ClassInjector;
import com.github.jsr330.spi.TypeConfig;

public class DefaultBinderConditionalTest {
    
    InitialBinder&lt;Object&gt; defaultBinder;
    BindingCondition&lt;?&gt; nonConfirming = new BindingCondition&lt;Object&gt;() {
        
        @Override
        public boolean fulfilled(ClassInjector injector, Class&lt;Object&gt; type, Map&lt;String, Class&lt;? extends Object&gt;[]&gt; inheritanceTree, Annotation qualifier,
                ClassLoader classLoader) {
            return false;
        }
        
    };
    BindingCondition&lt;?&gt; confirming = new BindingCondition&lt;Object&gt;() {
        
        @Override
        public boolean fulfilled(ClassInjector injector, Class&lt;Object&gt; type, Map&lt;String, Class&lt;? extends Object&gt;[]&gt; inheritanceTree, Annotation qualifier,
                ClassLoader classLoader) {
            return true;
        }
        
    };
    
    @Before
    public void init() {
        defaultBinder = new DefaultBinder&lt;Object&gt;();
    }
    
    @Test
    public void nullConditional() {
        try {

 =======================================================================
 ==D:/git/jsr330/config-builder/src/test/java/com/github/jsr330/spi/config/builder/DefaultBinderInstancingTest.java
 =======================================================================
package com.github.jsr330.spi.config.builder;

import static com.github.jsr330.spi.config.builder.Constructors.constructor;
import static com.github.jsr330.spi.config.builder.Constructors.defaultConstructor;
import static com.github.jsr330.spi.config.builder.Methods.factoryMethod;
import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertNotNull;
import static org.junit.Assert.assertNull;
import static org.junit.Assert.assertTrue;

import org.junit.Before;
import org.junit.Test;

import com.github.jsr330.instance.TypeContainer;
import com.github.jsr330.instance.TypeContainer.InstanceMode;
import com.github.jsr330.spi.TypeConfig;

public class DefaultBinderInstancingTest {
    
    InitialBinder&lt;Object&gt; defaultBinder;
    
    @Before
    public void init() {
        defaultBinder = new DefaultBinder&lt;Object&gt;();
    }
    
    @Test
    public void usingDefaultConstructor() {
        TypeConfig config = defaultBinder.instance(TestImplementation1.class).as(TestImplementation1.class)
                .using(defaultConstructor(TestImplementation1.class)).build();
        TypeContainer container;
        
        container = config.getTypeContainer(null, TestImplementation1.class, null, null, null);
        assertNotNull(container);
        assertEquals(TestImplementation1.class, container.getType());
        assertFalse(container.isSingleton());
        assertEquals(InstanceMode.CONSTRUCTOR, container.getInstanceMode());
        assertEquals(defaultConstructor(TestImplementation1.class), container.getConstructor());
        assertNull(container.getFactoryMethod());
    }
    
    @Test
    public void usingCustomConstructor() {
        TypeConfig config = defaultBinder.instance(TestImplementation1.class).as(TestImplementation1.class)
                .using(constructor(TestImplementation1.class, String.class, String.class)).build();
        TypeContainer container;
        
        container = config.getTypeContainer(null, TestImplementation1.class, null, null, null);
        assertNotNull(container);

 =======================================================================
 ==D:/git/jsr330/config-builder/src/test/java/com/github/jsr330/spi/config/builder/DefaultBinderLinkingTest.java
 =======================================================================
package com.github.jsr330.spi.config.builder;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertNotNull;
import static org.junit.Assert.assertNull;
import static org.junit.Assert.fail;

import java.lang.annotation.Annotation;
import java.util.Map;

import org.junit.Before;
import org.junit.Test;

import com.github.jsr330.instance.TypeContainer;
import com.github.jsr330.instance.TypeContainer.InstanceMode;
import com.github.jsr330.spi.ClassInjector;
import com.github.jsr330.spi.TypeConfig;

public class DefaultBinderLinkingTest {
    
    InitialBinder&lt;Object&gt; defaultBinder;
    BindingCondition&lt;?&gt; nonConfirming = new BindingCondition&lt;Object&gt;() {
        
        @Override
        public boolean fulfilled(ClassInjector injector, Class&lt;Object&gt; type, Map&lt;String, Class&lt;? extends Object&gt;[]&gt; inheritanceTree, Annotation qualifier,
                ClassLoader classLoader) {
            return false;
        }
        
    };
    BindingCondition&lt;?&gt; confirming = new BindingCondition&lt;Object&gt;() {
        
        @Override
        public boolean fulfilled(ClassInjector injector, Class&lt;Object&gt; type, Map&lt;String, Class&lt;? extends Object&gt;[]&gt; inheritanceTree, Annotation qualifier,
                ClassLoader classLoader) {
            return true;
        }
        
    };
    
    @Before
    public void init() {
        defaultBinder = new DefaultBinder&lt;Object&gt;();
    }
    
    @SuppressWarnings(&quot;unchecked&quot;)
    @Test
    public void nullAndCondition() {
        try {

 =======================================================================
 ==D:/git/jsr330/config-builder/src/test/java/com/github/jsr330/spi/config/builder/DefaultBinderTypedTest.java
 =======================================================================
package com.github.jsr330.spi.config.builder;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertNotNull;
import static org.junit.Assert.assertTrue;
import static org.junit.Assert.fail;

import javax.inject.Provider;

import org.junit.Before;
import org.junit.Test;

import com.github.jsr330.instance.TypeContainer;
import com.github.jsr330.instance.TypeContainer.InstanceMode;
import com.github.jsr330.spi.TypeConfig;

public class DefaultBinderTypedTest {
    
    InitialBinder&lt;Object&gt; defaultBinder;
    
    @Before
    public void init() {
        defaultBinder = new DefaultBinder&lt;Object&gt;();
    }
    
    @Test
    public void bindingIncomplete() {
        try {
            defaultBinder.instance(TestInterface.class).build();
            fail();
        } catch (BinderException e) {
        } catch (Throwable t) {
            fail();
        }
    }
    
    @Test
    public void interfaceAsImplementation() {
        try {
            defaultBinder.instance(TestInterface.class).as(TestInterface.class);
            fail();
        } catch (BinderException e) {
        } catch (Throwable t) {
            fail();
        }
    }
    
    @Test
    public void interfaceAsImplementationAndSingleton() {

 =======================================================================
 ==D:/git/jsr330/config-builder/src/test/java/com/github/jsr330/spi/config/builder/TestImplementation1.java
 =======================================================================
package com.github.jsr330.spi.config.builder;

public class TestImplementation1 implements TestInterface {
    
    public static TestImplementation1 instance1() {
        return new TestImplementation1();
    }
    
    public static TestImplementation1 instance2(String setting1, String setting2) {
        return new TestImplementation1(setting1, setting2);
    }
    
    public TestImplementation1 instance3() {
        return new TestImplementation1();
    }
    
    public TestImplementation1 instance4(String setting1, String setting2) {
        return new TestImplementation1(setting1, setting2);
    }
    
    public TestImplementation1() {
    }
    
    public TestImplementation1(String setting1, String setting2) {
    }
    
}

 =======================================================================
 ==D:/git/jsr330/config-builder/src/test/java/com/github/jsr330/spi/config/builder/TestImplementation2.java
 =======================================================================
package com.github.jsr330.spi.config.builder;

public class TestImplementation2 extends TestImplementation1 {
}

 =======================================================================
 ==D:/git/jsr330/config-builder/src/test/java/com/github/jsr330/spi/config/builder/TestInterface.java
 =======================================================================
package com.github.jsr330.spi.config.builder;

public interface TestInterface {
}

 =======================================================================
 ==D:/git/jsr330/config-builder/src/test/resources/log4j.xml
 =======================================================================
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE log4j:configuration PUBLIC &quot;-//LOGGER&quot; &quot;log4j.dtd&quot;&gt;

&lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot;&gt;

	&lt;appender name=&quot;console&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;
		&lt;param name=&quot;Target&quot; value=&quot;System.out&quot; /&gt;
		&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;
			&lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{ABSOLUTE} %5p %t %c{1}:%L - %m%n&quot; /&gt;
		&lt;/layout&gt;
	&lt;/appender&gt;

	&lt;logger name=&quot;com.github.jsr330.instance&quot;&gt;
		&lt;level value=&quot;error&quot; /&gt;
	&lt;/logger&gt;
    &lt;logger name=&quot;com.github.jsr330.scanning&quot;&gt;
        &lt;level value=&quot;error&quot; /&gt;
    &lt;/logger&gt;
    &lt;logger name=&quot;com.github.jsr330.analysis&quot;&gt;
        &lt;level value=&quot;error&quot; /&gt;
    &lt;/logger&gt;
    &lt;logger name=&quot;com.github.jsr330.spi.config.builder&quot;&gt;
        &lt;level value=&quot;error&quot; /&gt;
    &lt;/logger&gt;

	&lt;root&gt;
		&lt;priority value=&quot;info&quot; /&gt;
		&lt;appender-ref ref=&quot;console&quot; /&gt;
	&lt;/root&gt;

&lt;/log4j:configuration&gt;

 =======================================================================
 ==D:/git/jsr330/config-builder/src/test/resources/logging.properties
 =======================================================================
handlers=java.util.logging.ConsoleHandler
.level=ALL
java.util.logging.ConsoleHandler.level=ALL
java.util.logging.ConsoleHandler.formatter=java.util.logging.SimpleFormatter
</pre></div></div>
                  </div>
      </div>
    </div>

    <footer class="footer">
            <div class="container-fluid">
              <div class="row span16">Copyright &copy;                   2012.
          All Rights Reserved.      
        
      </div>

                      </div>
    </footer>
  </body>
</html>
