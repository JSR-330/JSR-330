<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Jul 7, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>RAT (Release Audit Tool) results</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
        <style>body{padding-top: 20px;}</style>
    
    <script type="text/javascript" src="./js/apache-maven-fluido.min.js"></script>

    
    <meta name="Date-Revision-yyyymmdd" content="20120707" />
    <meta http-equiv="Content-Language" content="en" />
    
        </head>
  <body>
        
    
        <div class="container-fluid">
                <div id="banner">
        <div class="pull-left">                                <a href="./" id="bannerLeft">
                <h2>JSR-330 Core</h2>
                </a>
      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>
      
      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
        
                  <li id="publishDate">Last Published: 2012-07-07</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 1.4.0</li>
                                      
        
              </ul>
      </div>

            <div id="leftColumn" class="sidebar">
        <div class="well">
                
        
                                   <h5>Parent Project</h5>
                  <ul>
                  <li class="none">
                          <a href="../index.html" title="JSR-330 Parent">JSR-330 Parent</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                                            <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                <li class="expanded">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                    <ul>
                      <li class="none">
                          <a href="findbugs.html" title="FindBugs Report">FindBugs Report</a>
            </li>
                      <li class="none">
            <strong>RAT Report</strong>
          </li>
              </ul>
        </li>
          </ul>
                      
        
      
          
          <div id="poweredBy">
                                                                                                                  <a href="https://buildhive.cloudbees.com/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy"  alt="Built by Maven" src="http://www.cloudbees.com/sites/default/files/Button-Built-on-CB-1.png"    />
      </a>
                    </div>
        </div>
      </div>
      
      <div id="bodyColumn" class="content">
        <div id="contentBox">
                              
          <div class="section"><h2>RAT (Release Audit Tool) results<a name="RAT_Release_Audit_Tool_results"></a></h2><p>The following document contains the results of <a class="externalLink" href="http://incubator.apache.org/rat/apache-rat-plugin">RAT (Release Audit Tool)</a>.</p><p></p><div class="source"><pre class="prettyprint">
*****************************************************
Summary
-------
Generated at: 2012-07-07T23:57:56+02:00
Notes: 0
Binaries: 0
Archives: 0
Standards: 30

Apache Licensed: 19
Generated Documents: 0

JavaDocs are generated and so license header is optional
Generated files do not required license headers

11 Unknown Licenses

*******************************

Unapproved licenses:

  D:/git/jsr330/core/.gitignore
  D:/git/jsr330/core/pom.xml
  D:/git/jsr330/core/src/main/java/com/github/jsr330/spi/TypeConfig.java
  D:/git/jsr330/core/src/test/java/com/github/jsr330/analysis/InheritanceAnalyserTest.java
  D:/git/jsr330/core/src/test/java/com/github/jsr330/instance/DefaultClassInjectorTest.java
  D:/git/jsr330/core/src/test/java/com/github/jsr330/instance/DefaultTypeDeterminatorTest.java
  D:/git/jsr330/core/src/test/java/com/github/jsr330/instance/SimpleProviderTest.java
  D:/git/jsr330/core/src/test/java/com/github/jsr330/instance/TypeContainerTest.java
  D:/git/jsr330/core/src/test/java/com/github/jsr330/scanning/DefaultClassScannerTest.java
  D:/git/jsr330/core/src/test/resources/log4j.xml
  D:/git/jsr330/core/src/test/resources/logging.properties

*******************************

Archives:

*****************************************************
  Files with Apache License headers will be marked AL
  Binary files (which do not require AL headers) will be marked B
  Compressed archives will be marked A
  Notices, licenses etc will be marked N
 !????? D:/git/jsr330/core/.gitignore
 !????? D:/git/jsr330/core/pom.xml
  AL    D:/git/jsr330/core/src/main/java/com/github/jsr330/analysis/InheritanceAnalyser.java
  AL    D:/git/jsr330/core/src/main/java/com/github/jsr330/CompoundFilter.java
  AL    D:/git/jsr330/core/src/main/java/com/github/jsr330/GenericFilter.java
  AL    D:/git/jsr330/core/src/main/java/com/github/jsr330/Injector.java
  AL    D:/git/jsr330/core/src/main/java/com/github/jsr330/instance/DefaultClassInjector.java
  AL    D:/git/jsr330/core/src/main/java/com/github/jsr330/instance/DefaultTypeDeterminator.java
  AL    D:/git/jsr330/core/src/main/java/com/github/jsr330/instance/InjectionSet.java
  AL    D:/git/jsr330/core/src/main/java/com/github/jsr330/instance/SimpleProvider.java
  AL    D:/git/jsr330/core/src/main/java/com/github/jsr330/instance/TypeContainer.java
  AL    D:/git/jsr330/core/src/main/java/com/github/jsr330/scanning/DefaultClassScanner.java
  AL    D:/git/jsr330/core/src/main/java/com/github/jsr330/scanning/RegExClassnameFilter.java
  AL    D:/git/jsr330/core/src/main/java/com/github/jsr330/scanning/RegExSourceDirFilter.java
  AL    D:/git/jsr330/core/src/main/java/com/github/jsr330/spi/ClassAnalyser.java
  AL    D:/git/jsr330/core/src/main/java/com/github/jsr330/spi/ClassInjector.java
  AL    D:/git/jsr330/core/src/main/java/com/github/jsr330/spi/ClassScanner.java
 !????? D:/git/jsr330/core/src/main/java/com/github/jsr330/spi/TypeConfig.java
  AL    D:/git/jsr330/core/src/main/java/com/github/jsr330/spi/TypeDeterminator.java
 !????? D:/git/jsr330/core/src/test/java/com/github/jsr330/analysis/InheritanceAnalyserTest.java
  AL    D:/git/jsr330/core/src/test/java/com/github/jsr330/GuiceTck.java
 !????? D:/git/jsr330/core/src/test/java/com/github/jsr330/instance/DefaultClassInjectorTest.java
 !????? D:/git/jsr330/core/src/test/java/com/github/jsr330/instance/DefaultTypeDeterminatorTest.java
 !????? D:/git/jsr330/core/src/test/java/com/github/jsr330/instance/SimpleProviderTest.java
 !????? D:/git/jsr330/core/src/test/java/com/github/jsr330/instance/TypeContainerTest.java
  AL    D:/git/jsr330/core/src/test/java/com/github/jsr330/MyTck.java
 !????? D:/git/jsr330/core/src/test/java/com/github/jsr330/scanning/DefaultClassScannerTest.java
  AL    D:/git/jsr330/core/src/test/resources/log4j.dtd
 !????? D:/git/jsr330/core/src/test/resources/log4j.xml
 !????? D:/git/jsr330/core/src/test/resources/logging.properties
 
 *****************************************************
 Printing headers for files without AL header...
 
 
 =======================================================================
 ==D:/git/jsr330/core/.gitignore
 =======================================================================
/target/
/.settings/
/.classpath
/.project

 =======================================================================
 ==D:/git/jsr330/core/pom.xml
 =======================================================================
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;parent&gt;
        &lt;artifactId&gt;all&lt;/artifactId&gt;
        &lt;groupId&gt;com.github.jsr-330&lt;/groupId&gt;
        &lt;version&gt;1.4.0&lt;/version&gt;
        &lt;relativePath&gt;..&lt;/relativePath&gt;
    &lt;/parent&gt;
    &lt;artifactId&gt;core&lt;/artifactId&gt;
    &lt;packaging&gt;jar&lt;/packaging&gt;
    &lt;name&gt;JSR-330 Core&lt;/name&gt;
    &lt;description&gt;Basic module for JSR-330&lt;/description&gt;

    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;
                &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;
                &lt;version&gt;2.3.6&lt;/version&gt;
                &lt;extensions&gt;true&lt;/extensions&gt;
                &lt;configuration&gt;
                    &lt;instructions&gt;
                        &lt;Export-Package&gt;com.github.jsr330&lt;/Export-Package&gt;
                        &lt;Export-Package&gt;com.github.jsr330.*&lt;/Export-Package&gt;
                    &lt;/instructions&gt;
                &lt;/configuration&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;manifest&lt;/goal&gt;
                        &lt;/goals&gt;
                        &lt;phase&gt;process-classes&lt;/phase&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;

&lt;/project&gt;

 =======================================================================
 ==D:/git/jsr330/core/src/main/java/com/github/jsr330/spi/TypeConfig.java
 =======================================================================
package com.github.jsr330.spi;

import java.lang.annotation.Annotation;
import java.util.Map;

import javax.inject.Provider;

import com.github.jsr330.instance.TypeContainer;

/**
 * A configuration for a {@link ClassInjector}.
 */
public interface TypeConfig {
    
    /**
     * Gets a provider back that satisfy the needs of {@link ClassInjector} or null.
     * 
     * @param injector The asking class injector.
     * @param type The Type to instantiate.
     * @param inheritanceTree The entire inheritance tree of the known classes.
     * @param qualifier A possible annotation for the instance.
     * @param classLoader The class loader used to get the inheritance tree.
     * 
     * @return Gets a {@code null} value back or a proper {@link Provider}.
     */
    &lt;T&gt; Provider&lt;T&gt; getProvider(ClassInjector injector, Class&lt;T&gt; type, Map&lt;String, Class&lt;? extends T&gt;[]&gt; inheritanceTree, Annotation qualifier,
            ClassLoader classLoader);
    
    /**
     * Gets a {@link TypeContainer} or null back.
     * 
     * @param injector The asking class injector.
     * @param type The Type to instantiate.
     * @param inheritanceTree The entire inheritance tree of the known classes.
     * @param qualifier A possible annotation for the instance.
     * @param classLoader The class loader used to get the inheritance tree.
     * 
     * @return Gets a {@code null} value back or a proper {@link TypeContainer}.
     */
    &lt;T&gt; TypeContainer getTypeContainer(ClassInjector injector, Class&lt;T&gt; type, Map&lt;String, Class&lt;? extends T&gt;[]&gt; inheritanceTree, Annotation qualifier,
            ClassLoader classLoader);
    
}

 =======================================================================
 ==D:/git/jsr330/core/src/test/java/com/github/jsr330/analysis/InheritanceAnalyserTest.java
 =======================================================================
package com.github.jsr330.analysis;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertNotNull;

import java.util.HashMap;
import java.util.Map;
import java.util.TreeMap;

import org.junit.Before;
import org.junit.Test;

public class InheritanceAnalyserTest {
    
    InheritanceAnalyser inheritanceAnalyser;
    
    @Before
    public void init() {
        inheritanceAnalyser = new InheritanceAnalyser();
    }
    
    @Test
    public void analyse_NoClasses() {
        Map&lt;String, Class&lt;?&gt;&gt; classes = new HashMap&lt;String, Class&lt;?&gt;&gt;();
        Map&lt;String, Class&lt;?&gt;[]&gt; inheritances;
        
        inheritances = inheritanceAnalyser.analyse(classes);
        
        assertNotNull(inheritances);
        assertEquals(0, inheritances.size());
    }
    
    @Test
    public void analyse_NoInheritances() {
        Map&lt;String, Class&lt;?&gt;&gt; classes = new HashMap&lt;String, Class&lt;?&gt;&gt;();
        Map&lt;String, Class&lt;?&gt;[]&gt; inheritances;
        
        classes.put(Object.class.getName(), Object.class);
        classes.put(CharSequence.class.getName(), CharSequence.class);
        classes.put(Runnable.class.getName(), Runnable.class);
        
        inheritances = inheritanceAnalyser.analyse(classes);
        
        assertNotNull(inheritances);
        assertEquals(0, inheritances.size());
    }
    
    @Test
    public void analyse_Inheritances() {
        // need TreeMap for Sorting

 =======================================================================
 ==D:/git/jsr330/core/src/test/java/com/github/jsr330/instance/DefaultClassInjectorTest.java
 =======================================================================
package com.github.jsr330.instance;

import static org.junit.Assert.assertNotNull;
import static org.junit.Assert.assertNull;
import static org.junit.Assert.assertSame;
import static org.mockito.Matchers.any;
import static org.mockito.Matchers.eq;
import static org.mockito.Matchers.same;
import static org.mockito.Mockito.spy;
import static org.mockito.Mockito.verify;
import static org.mockito.Mockito.verifyZeroInteractions;
import static org.mockito.Mockito.when;

import java.lang.annotation.Annotation;
import java.lang.reflect.Field;
import java.lang.reflect.Method;
import java.util.HashMap;
import java.util.Map;

import javax.inject.Inject;

import org.junit.Before;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.mockito.Answers;
import org.mockito.Mock;
import org.mockito.runners.MockitoJUnitRunner;

import com.github.jsr330.spi.TypeConfig;
import com.github.jsr330.spi.TypeDeterminator;

@RunWith(MockitoJUnitRunner.class)
public class DefaultClassInjectorTest {
    
    public static class Bean {
        
        @Inject
        static void injectionPoint() {
        }
        
    }
    
    DefaultClassInjector defaultClassInjector;
    @Mock
    TypeDeterminator typeDeterminator;
    @Mock
    TypeConfig typeConfig;
    @Mock
    TypeContainer typeContainer;
    @Mock(answer = Answers.RETURNS_DEEP_STUBS)

 =======================================================================
 ==D:/git/jsr330/core/src/test/java/com/github/jsr330/instance/DefaultTypeDeterminatorTest.java
 =======================================================================
package com.github.jsr330.instance;

import static org.junit.Assert.assertEquals;

import java.lang.annotation.Annotation;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;

import javax.inject.Qualifier;

import org.junit.Before;
import org.junit.Test;

public class DefaultTypeDeterminatorTest {
    
    @Qualifier
    @Retention(RetentionPolicy.RUNTIME)
    public @interface Single {
    }
    
    public class Bean {
    }
    
    public class SingleBean extends Bean {
    }
    
    public class MultiBean extends Bean {
    }
    
    DefaultTypeDeterminator defaultTypeDeterminator;
    Class&lt;CharSequence&gt; type;
    Class&lt;? extends CharSequence&gt;[] candidates;
    Annotation qualifier;
    ClassLoader classLoader = Thread.currentThread().getContextClassLoader();
    Single anno = new Single() {
        
        @Override
        public Class&lt;? extends Annotation&gt; annotationType() {
            return Single.class;
        }
        
    };
    
    @Before
    public void init() {
        defaultTypeDeterminator = new DefaultTypeDeterminator();
        type = CharSequence.class;
    }
    
    @Test

 =======================================================================
 ==D:/git/jsr330/core/src/test/java/com/github/jsr330/instance/SimpleProviderTest.java
 =======================================================================
package com.github.jsr330.instance;

import static org.mockito.Matchers.eq;
import static org.mockito.Matchers.same;
import static org.mockito.Mockito.verify;

import java.lang.annotation.Annotation;
import java.util.Map;

import org.junit.Before;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.mockito.Mock;
import org.mockito.runners.MockitoJUnitRunner;

import com.github.jsr330.spi.ClassInjector;

@RunWith(MockitoJUnitRunner.class)
public class SimpleProviderTest {
    
    SimpleProvider&lt;Runnable&gt; simpleProvider;
    Class&lt;Runnable&gt; type = Runnable.class;
    @Mock
    ClassInjector instancer;
    @Mock
    Map&lt;String, Class&lt;? extends Runnable&gt;[]&gt; inheritanceTree;
    @Mock
    Annotation qualifier;
    @Mock
    ClassLoader classLoader;
    
    @Before
    public void init() {
        simpleProvider = new SimpleProvider&lt;Runnable&gt;(type, instancer, inheritanceTree, qualifier, classLoader);
    }
    
    @Test
    public void get() {
        simpleProvider.get();
        verify(instancer).instance(same(type), same(inheritanceTree), same(classLoader), (Class&lt;?&gt;[]) eq(null), same(qualifier));
    }
    
}

 =======================================================================
 ==D:/git/jsr330/core/src/test/java/com/github/jsr330/instance/TypeContainerTest.java
 =======================================================================
package com.github.jsr330.instance;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertNotNull;
import static org.junit.Assert.assertNull;
import static org.junit.Assert.assertTrue;

import java.lang.reflect.Constructor;

import javax.inject.Inject;
import javax.inject.Singleton;

import org.junit.Test;

public class TypeContainerTest {
    
    public static class Bean1 {
        
        static final String notContained1_7 = &quot;&quot;;
        @Inject
        static final String notContained1_8 = &quot;&quot;;
        static String notContained1_9;
        @Inject
        static String contained1_3;
        
        final String notContained1_10 = &quot;&quot;;
        @Inject
        final String notContained1_11 = &quot;&quot;;
        String notContained1_12;
        @Inject
        String contained1_4;
        
        static void notContained1_6() {
        }
        
        @Inject
        static void contained1_2() {
        }
        
        void notContained1_3() {
        }
        
        @Inject
        void contained1_1() {
        }
        
    }
    
    public static class Bean2 extends Bean1 {

 =======================================================================
 ==D:/git/jsr330/core/src/test/java/com/github/jsr330/scanning/DefaultClassScannerTest.java
 =======================================================================
package com.github.jsr330.scanning;

import static org.junit.Assert.assertNull;
import static org.junit.Assert.assertSame;
import static org.junit.Assert.assertTrue;
import static org.junit.Assert.fail;
import static org.mockito.Matchers.any;
import static org.mockito.Mockito.atLeast;
import static org.mockito.Mockito.verify;
import static org.mockito.Mockito.verifyZeroInteractions;
import static org.mockito.Mockito.when;

import java.net.URI;
import java.util.Map;

import org.junit.Before;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.mockito.ArgumentCaptor;
import org.mockito.Captor;
import org.mockito.Mock;
import org.mockito.runners.MockitoJUnitRunner;

import com.github.jsr330.GenericFilter;
import com.github.jsr330.spi.ClassScanner;

@RunWith(MockitoJUnitRunner.class)
public class DefaultClassScannerTest {
    
    DefaultClassScanner defaultClassScanner;
    @Mock
    ClassScanner parent;
    @Mock
    GenericFilter&lt;URI&gt; sourceDirFilter;
    @Mock
    GenericFilter&lt;String&gt; classNameFilter;
    @Captor
    ArgumentCaptor&lt;URI&gt; sourceDirFilterParameter;
    @Captor
    ArgumentCaptor&lt;String&gt; classNameFilterParameter;
    
    @Before
    public void init() {
        when(sourceDirFilter.filter(any(URI.class))).thenReturn(true);
        when(classNameFilter.filter(any(String.class))).thenReturn(true);
        
        defaultClassScanner = new DefaultClassScanner();
    }
    
    @Test

 =======================================================================
 ==D:/git/jsr330/core/src/test/resources/log4j.xml
 =======================================================================
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE log4j:configuration PUBLIC &quot;-//LOGGER&quot; &quot;log4j.dtd&quot;&gt;

&lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot;&gt;

	&lt;appender name=&quot;console&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;
		&lt;param name=&quot;Target&quot; value=&quot;System.out&quot; /&gt;
		&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;
			&lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{ABSOLUTE} %5p %t %c{1}:%L - %m%n&quot; /&gt;
		&lt;/layout&gt;
	&lt;/appender&gt;

	&lt;logger name=&quot;com.github.jsr330.instance&quot;&gt;
		&lt;level value=&quot;error&quot; /&gt;
	&lt;/logger&gt;
    &lt;logger name=&quot;com.github.jsr330.scanning&quot;&gt;
        &lt;level value=&quot;error&quot; /&gt;
    &lt;/logger&gt;
    &lt;logger name=&quot;com.github.jsr330.analysis&quot;&gt;
        &lt;level value=&quot;error&quot; /&gt;
    &lt;/logger&gt;

	&lt;root&gt;
		&lt;priority value=&quot;info&quot; /&gt;
		&lt;appender-ref ref=&quot;console&quot; /&gt;
	&lt;/root&gt;

&lt;/log4j:configuration&gt;

 =======================================================================
 ==D:/git/jsr330/core/src/test/resources/logging.properties
 =======================================================================
handlers=java.util.logging.ConsoleHandler
.level=ALL
java.util.logging.ConsoleHandler.level=ALL
java.util.logging.ConsoleHandler.formatter=java.util.logging.SimpleFormatter
</pre></div></div>
                  </div>
      </div>
    </div>

    <footer class="footer">
            <div class="container-fluid">
              <div class="row span16">Copyright &copy;                   2012.
          All Rights Reserved.      
        
      </div>

                      </div>
    </footer>
  </body>
</html>
